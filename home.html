<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Impresión</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            max-width: 800px;
            margin-top: 50px;
            padding: 30px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #007bff;
            margin-bottom: 30px;
        }
        .form-label {
            font-weight: bold;
        }
        .result-card {
            margin-top: 40px;
            background-color: #e9ecef;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
        }
        .result-card h3 {
            color: #007bff;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center">Presupuesto</h1>
        <form id="calculatorForm">
            <div class="mb-3">
                <label for="cantidadImpresiones" class="form-label">Cantidad de Impresiones:</label>
                <input type="number" class="form-control" id="cantidadImpresiones" min="1" required>
            </div>

            <div class="mb-3">
                <label for="tamanoDiseno" class="form-label">Tamaño del Diseño:</label>
                <select class="form-select" id="tamanoDiseno" required>
                    <option value="">Seleccione un tamaño</option>
                    <option value="carta">Carta (21.59 x 27.94 cm)</option>
                    <option value="tabloide">Tabloide (27.94 x 43.18 cm)</option>
                    <option value="medio-pliego">Medio Pliego (48 x 66 cm)</option>
                    <option value="oficio">Oficio (21.59 x 33.02 cm)</option>
                    <option value="pliego-completo">Pliego Completo (66 x 96 cm)</option>
                    <option value="doble-carta">Doble Carta (27.94 x 43.18 cm)</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Cantidad de Colores:</label>
                <div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="cantidadColores" id="color1" value="1" required>
                        <label class="form-check-label" for="color1">1 Color</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="cantidadColores" id="color2" value="2">
                        <label class="form-check-label" for="color2">2 Colores</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="cantidadColores" id="color3" value="3">
                        <label class="form-check-label" for="color3">3 Colores</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="cantidadColores" id="color4" value="4">
                        <label class="form-check-label" for="color4">4 Colores</label>
                    </div>
                </div>
            </div>

            <div class="mb-3">
                <label for="tipoPapel" class="form-label">Tipo de Papel:</label>
                <select class="form-select" id="tipoPapel" required>
                    <option value="">Seleccione un tipo de papel</option>
                    <option value="sulfato-16">Sulfato 16</option>
                    <option value="bond-20">Bond 20</option>
                    <option value="glasse-115">Glassé 115</option>
                    <option value="glasse-150">Glassé 150</option>
                    <option value="glasse-200">Glassé 200</option>
                    <option value="glasse-250">Glassé 250</option>
                    <option value="glasse-300">Glassé 300</option>
                    <option value="glasse-350">Glassé 350</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary w-100">Calcular Costo Total</button>
        </form>

        <div id="results" class="result-card d-none">
            <h3 class="text-center">Resultados del Cálculo</h3>
            <p><strong>Costo por Unidad de Papel:</strong> $<span id="costoUnidadPapel"></span></p>
            <p><strong>Pliegos:</strong> <span id="cantidadPliegos"></span> pliegos</p>
            <p><strong>Resmas:</strong> <span id="cantidadResmas"></span> resmas</p>
            <p><strong>Tiraje:</strong> <span id="cantidadTiraje"></span></p>
            <p><strong>Planchas:</strong> <span id="cantidadPlanchas"></span></p>
            <p><strong>Costo Total de Planchas:</strong> $<span id="costoPlanchas"></span></p>
            <p><strong>Costo Total de Papel:</strong> $<span id="costoTotalPapel"></span></p>
            <hr>
            <h4 class="text-center text-primary">Costo Total Estimado: $<span id="costoTotalFinal"></span></h4>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        document.getElementById('calculatorForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Evita el envío del formulario por defecto

            // Obtener valores del formulario
            const cantidadImpresiones = parseInt(document.getElementById('cantidadImpresiones').value);
            const tamanoDiseno = document.getElementById('tamanoDiseno').value;
            const cantidadColores = parseInt(document.querySelector('input[name="cantidadColores"]:checked').value);
            const tipoPapel = document.getElementById('tipoPapel').value;

            // --- Datos de Costos y Propiedades ---
            const datosPapel = {
                "sulfato-16": { costoPaquete: 47, pliegosPaquete: 100, nombre: "Sulfato 16" },
                "bond-20": { costoPaquete: 85, pliegosPaquete: 500, nombre: "Bond 20" },
                "glasse-115": { costoPaquete: 45, pliegosPaquete: 250, nombre: "Glassé 115" },
                "glasse-150": { costoPaquete: 55, pliegosPaquete: 250, nombre: "Glassé 150" },
                "glasse-200": { costoPaquete: 50, pliegosPaquete: 100, nombre: "Glassé 200" },
                "glasse-250": { costoPaquete: 50, pliegosPaquete: 100, nombre: "Glassé 250" },
                "glasse-300": { costoPaquete: 38, pliegosPaquete: 100, nombre: "Glassé 300" },
                "glasse-350": { costoPaquete: 45, pliegosPaquete: 100, nombre: "Glassé 350" }
            };

            const costoPlancha = 14;
            const pliegosPorResma = 500; // Asumimos 500 pliegos por resma para fines de cálculo

            // --- Cálculos ---

            // 1. Costo por unidad de papel
            const papelSeleccionado = datosPapel[tipoPapel];
            const costoUnidadPapel = papelSeleccionado.costoPaquete / papelSeleccionado.pliegosPaquete;

            // 2. Cantidad de diseños que caben en un pliego (factor de aprovechamiento)
            let disenosPorPliego = 0;
            switch (tamanoDiseno) {
                case 'carta':
                    disenosPorPliego = 4; // Un pliego completo (66x96cm) puede contener 4 cartas
                    break;
                case 'tabloide':
                    disenosPorPliego = 2; // Un pliego completo puede contener 2 tabloides
                    break;
                case 'medio-pliego':
                    disenosPorPliego = 2; // Como el ejemplo indica, en un pliego caben 2 medios pliegos
                    break;
                case 'oficio':
                    disenosPorPliego = 4; // Similar a la carta, 4 oficios por pliego
                    break;
                case 'pliego-completo':
                    disenosPorPliego = 1;
                    break;
                case 'doble-carta':
                    disenosPorPliego = 2; // Equivalente a tabloide
                    break;
                default:
                    disenosPorPliego = 1; // Valor por defecto si no se encuentra el tamaño
            }

            // 3. Cantidad de Pliegos Requeridos
            let cantidadPliegos = Math.ceil(cantidadImpresiones / disenosPorPliego);

            // 4. Cantidad de Resmas Requeridas (redondeado hacia arriba)
            const cantidadResmas = Math.ceil(cantidadPliegos / pliegosPorResma);

            // 5. Cantidad de Tiraje
            let cantidadTiraje = cantidadImpresiones * cantidadColores;
            cantidadTiraje = Math.ceil(cantidadTiraje / 1000) * 1000; // Redondear hacia arriba a la milésima

            // 6. Cantidad de Planchas
            const cantidadPlanchas = cantidadColores;

            // 7. Costo Total de Planchas
            const costoTotalPlanchas = cantidadPlanchas * costoPlancha;

            // 8. Costo Total de Papel
            const costoTotalPapel = cantidadPliegos * costoUnidadPapel;

            // 9. Costo Total Final
            const costoTotalFinal = costoTotalPlanchas + costoTotalPapel;


            // --- Mostrar Resultados ---
            document.getElementById('costoUnidadPapel').textContent = costoUnidadPapel.toFixed(2);
            document.getElementById('cantidadPliegos').textContent = cantidadPliegos;
            document.getElementById('cantidadResmas').textContent = cantidadResmas;
            document.getElementById('cantidadTiraje').textContent = cantidadTiraje;
            document.getElementById('cantidadPlanchas').textContent = cantidadPlanchas;
            document.getElementById('costoPlanchas').textContent = costoTotalPlanchas.toFixed(2);
            document.getElementById('costoTotalPapel').textContent = costoTotalPapel.toFixed(2);
            document.getElementById('costoTotalFinal').textContent = costoTotalFinal.toFixed(2);

            document.getElementById('results').classList.remove('d-none'); // Mostrar los resultados
        });
    </script>
</body>
</html>
